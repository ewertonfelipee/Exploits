#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char *argv[])
{
    int value = 5;
    char buffer[8], buffer2[8];

    strcpy(buffer, "one");
    strcpy(buffer2, "two");

    // char *buffer = (char*)malloc(value*sizeof(char));
    // char *buffer2 = (char*)malloc(value*sizeof(char));

    printf("[BEFORE] buffer2 is at %p and contains \'%s\'\n", buffer2, buffer2);
    printf("[BEFORE] buffer is at %p and contains \'%s\'\n", buffer, buffer);
    printf("[BEFORE] value is at %p and contains %d (0x%08x)\n", &value, value, value);

    printf("\n[STRCPY] copying %ld bytes into buffer2\n\n", strlen(argv[1]));
    strcpy(buffer2, argv[1]);

    printf("[AFTER] buffer2 is at %p and contains \'%s\'\n", buffer2, buffer2);
    printf("[AFTER] buffer is at %p and contains \'%s\'\n", buffer, buffer);
    printf("[AFTER] value is at %p and contains %d (0x%08x)\n", &value, value, value);
}